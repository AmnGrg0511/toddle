(this.webpackJsonptoddle=this.webpackJsonptoddle||[]).push([[0],{54:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(42),i=n.n(r),l=(n(54),n(21)),o=n(28),s=n.n(o),d=n(40),u=n(12),j=n(14),h=n(77),f=n(76),p=n(29),b=n(34),O=n(4);var x=function(){var e=Object(c.useState)(0),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([{title:"",depth:0}]),i=Object(j.a)(r,2),o=i[0],x=i[1],v=Object(c.useRef)(null);Object(c.useEffect)((function(){v.current&&v.current.focus()}),[n]);var g=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=[];console.log({data:t,tree:c,depth:n});for(var a=0;a<t.length;a++)t[a].depth===n&&(t[a].childs=e(t.slice(a,w(t,a,n)),n+1),c.push(t[a]));return c},y=function e(t){var n=[];console.log({data:n,tree:t});for(var c=0;c<t.length;c++)n.push({title:t[c].title,depth:t[c].depth}),n.push.apply(n,Object(u.a)(e(t[c].childs)));return n},m=function(){var e=Object(d.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FileReader).onload=function(){var e=Object(d.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,x(y(JSON.parse(n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e,t,n){for(var c=t+1,a=t+1;a<e.length&&!(e[a].depth<=n);a++)c=a+1;return c};return Object(O.jsxs)("div",{style:{width:"80%",margin:"50px auto"},children:[Object(O.jsx)("div",{style:{borderBottom:"2px solid #eee",display:"flex"},children:Object(O.jsx)("textarea",{rows:"1",defaultValue:"Mathematics",style:{fontSize:30,fontWeight:"bold",fontFamily:"Monospace",alignItems:"center",color:"#ccc",resizable:"none"}})}),o.map((function(e,t){var c=e.title,r=e.depth;return Object(O.jsxs)("div",{draggable:!0,onDragStart:function(){console.log("hi")},style:{display:"flex",alignItems:"center",borderBottom:"2px solid #eee"},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(h.a,{onClick:function(){},children:Object(O.jsx)(p.d,{})}),Object(O.jsx)(h.a,{onClick:function(){0!==t&&r>0&&x((function(e){return e.map((function(n,c){return c>=t&&c<w(e,t,r)?Object(l.a)(Object(l.a)({},n),{},{depth:n.depth-1}):n}))}))},children:Object(O.jsx)(p.a,{})}),Object(O.jsx)(h.a,{onClick:function(){0!==t&&r<=o[t-1].depth&&x((function(e){return e.map((function(e,n){return t===n?Object(l.a)(Object(l.a)({},e),{},{depth:e.depth+1}):e}))}))},children:Object(O.jsx)(p.b,{})}),Object(O.jsx)(h.a,{onClick:function(){return x((function(e){return e.filter((function(n,c){return c<t||c>=w(e,t,r)}))}))},children:Object(O.jsx)(p.c,{})})]}),Object(O.jsx)("div",{style:{height:56,width:40,backgroundColor:"#fafafa",marginLeft:15+18*r,marginRight:15}}),Object(O.jsx)("textarea",{rows:"1",ref:t===n?v:null,value:c,style:{opacity:1-.1*r,fontSize:26-2.5*r},onChange:function(e){var n=e.target.value,c=n.split("\n");n=c[0];var r=o.map((function(e,c){return t===c?Object(l.a)(Object(l.a)({},e),{},{title:n}):e}));if(c.length>1){var i={title:c[1],depth:o[t].depth};r=[].concat(Object(u.a)(r.slice(0,t+1)),[i],Object(u.a)(r.slice(t+1))),a(t+1)}x(r)}})]},t)})),Object(O.jsx)("div",{style:{display:"flex"},children:Object(O.jsxs)(f.a,{variant:"contained",style:{flex:1,margin:5},onClick:function(){x((function(e){var t;return[].concat(Object(u.a)(e),[{title:"",depth:null!==(t=e[e.length-1].depth)&&void 0!==t?t:0}])}))},children:[Object(O.jsx)(b.a,{style:{width:40,height:20}}),"Add"]})}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsxs)(f.a,{style:{flex:1,margin:5},variant:"outlined",onClick:function(){var e=document.createElement("a"),t=new Blob([[JSON.stringify(g(o))]]);e.href=URL.createObjectURL(t),e.download="userFile.json",document.body.appendChild(e),e.click()},children:[Object(O.jsx)(b.b,{style:{width:40,height:20}}),"Save"]}),Object(O.jsxs)("label",{style:{flex:1,margin:5},htmlFor:"button-file",children:[Object(O.jsx)("input",{style:{display:"none"},accept:"application/JSON",onChange:m,id:"button-file",multiple:!0,type:"file"}),Object(O.jsxs)(f.a,{variant:"outlined",component:"span",style:{width:"100%"},children:[Object(O.jsx)(b.c,{style:{width:40,height:20}}),"Load"]})]})]})]})};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(x,{passedData:[{title:""}]})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.362b94a2.chunk.js.map